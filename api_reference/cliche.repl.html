

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cliche.repl package &mdash; cliche 2020.6 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="cliche.vendor package" href="cliche.vendor.html" />
    <link rel="prev" title="cliche.formatters package" href="cliche.formatters.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> cliche
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../before_getting_started/index.html">Before getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input_output/index.html">Input and Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help_text/index.html">Command Help and Man Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../async_commands/index.html">Async Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo/index.html">Things To Do</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="cliche.html">cliche package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="cliche.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="cliche.arg_types.html">cliche.arg_types package</a></li>
<li class="toctree-l4"><a class="reference internal" href="cliche.commands.html">cliche.commands package</a></li>
<li class="toctree-l4"><a class="reference internal" href="cliche.formatters.html">cliche.formatters package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">cliche.repl package</a></li>
<li class="toctree-l4"><a class="reference internal" href="cliche.vendor.html">cliche.vendor package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cliche.html#module-cliche">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cliche</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">API Reference</a> &raquo;</li>
        
          <li><a href="cliche.html">cliche package</a> &raquo;</li>
        
      <li>cliche.repl package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api_reference/cliche.repl.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cliche-repl-package">
<h1>cliche.repl package<a class="headerlink" href="#cliche-repl-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-cliche.repl.completer">
<span id="cliche-repl-completer-module"></span><h2>cliche.repl.completer module<a class="headerlink" href="#module-cliche.repl.completer" title="Permalink to this headline">¶</a></h2>
<p>This module implements a readline completer for completing command names as well
as argument names and values.</p>
<dl class="py class">
<dt id="cliche.repl.completer.CommandCompleter">
<em class="property">class </em><code class="sig-prename descclassname">cliche.repl.completer.</code><code class="sig-name descname">CommandCompleter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">commands</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cliche.repl.completer.CommandCompleter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A completer object that can be used to get the possible next choices for
the user’s current input. Used with readline’s set_completer() function.</p>
<dl class="py method">
<dt id="cliche.repl.completer.CommandCompleter.completer">
<code class="sig-name descname">completer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cliche.repl.completer.CommandCompleter.completer" title="Permalink to this definition">¶</a></dt>
<dd><p>To be used with readline’s set_completer() function</p>
</dd></dl>

<dl class="py method">
<dt id="cliche.repl.completer.CommandCompleter.get_command_name">
<em class="property">static </em><code class="sig-name descname">get_command_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">options</span></em>, <em class="sig-param"><span class="n">exact</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cliche.repl.completer.CommandCompleter.get_command_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The text contains a complete command if there is 1 and only 1 command
which contains the text’s prefix</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cliche.repl.completer.match_command_hook">
<code class="sig-prename descclassname">cliche.repl.completer.</code><code class="sig-name descname">match_command_hook</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">substitution</span></em>, <em class="sig-param"><span class="n">matches</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">_</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cliche.repl.completer.match_command_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a list of completion choices in columns and reprint the prompt</p>
</dd></dl>

<dl class="py function">
<dt id="cliche.repl.completer.print_columns">
<code class="sig-prename descclassname">cliche.repl.completer.</code><code class="sig-name descname">print_columns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">objects</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">gap</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cliche.repl.completer.print_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a list of items in rows and columns</p>
</dd></dl>

</div>
<div class="section" id="module-cliche.repl.shell">
<span id="cliche-repl-shell-module"></span><h2>cliche.repl.shell module<a class="headerlink" href="#module-cliche.repl.shell" title="Permalink to this headline">¶</a></h2>
<p>This is the main staring point for a cliche application</p>
<dl class="py function">
<dt id="cliche.repl.shell.execute">
<code class="sig-prename descclassname">cliche.repl.shell.</code><code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">current_input</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#cliche.repl.shell.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the input as a series of commands</p>
</dd></dl>

<dl class="py function">
<dt id="cliche.repl.shell.run">
<code class="sig-prename descclassname">cliche.repl.shell.</code><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">argv</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">program_name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">motd</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>Callable<span class="p">[</span>str<span class="p">]</span><span class="p">, </span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">history_file</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prompt</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">repl_mode</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">single_command</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#cliche.repl.shell.run" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the main entry point of a cliche-based application. Call this after
all of your commands have been defined.</p>
<p>This will start the application in its REPL mode (by default) or in a single
command mode if the first argv to is set to ‘-c’. If in REPL mode, this function
will not return until the user quits the application.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>argv: This is a list of arguments that usually comes from the command line.</dt><dd><p>This will default to sys.argv[1:] but may be overridden if needed.</p>
</dd>
<dt>program_name: If provided, this will be the name of the program (used</dt><dd><p>internally for display purposes). If not provided, sys.argv[0] will
be used as a default (the name of the script file, e.g. hello.py).</p>
</dd>
<dt>motd: If provided, this will be displayed to the user before the prompt.</dt><dd><p>If it is a string, it will be displayed as given. If it is a callable,
then the result will be displayed to the user.</p>
</dd>
<dt>history_file: If peristent command history is desired, a file name may</dt><dd><p>be passed where a list of the most recent commands will be kept and
loaded from.</p>
</dd>
<dt>prompt: This is the prompt to display to the user to let them know that</dt><dd><p>the system is ready to accept a command. If not provided, a default
will be used.</p>
</dd>
<dt>repl_mode: By default, applications using cliche expect to act as a REPL</dt><dd><p>environment where the user will run many commands. These applications
can still run a single command if the user passes a -c. But, it is
convienent for some applications to act more like a traditional CLI
command without needing to pass -c. For those applicatinos, repl_mode
can be set to False.</p>
</dd>
<dt>single_command: This acts a bit like non-repl mode, except in this case</dt><dd><p>the user doesn’t have to pass any command name as an argument to the
application, but rather whatever command name is passed here is automatically
run and the application exits when the command is complete. If an
application only had one command, such as an implementation of ls in
Python, then this would be a good choice for exposing that command easily.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="cliche.repl.shell.run_one_command">
<code class="sig-prename descclassname">cliche.repl.shell.</code><code class="sig-name descname">run_one_command</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">current_input</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#cliche.repl.shell.run_one_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the current input, search for a matching command and execute it
with the given parameters.</p>
</dd></dl>

<dl class="py function">
<dt id="cliche.repl.shell.setup_tab_complete">
<code class="sig-prename descclassname">cliche.repl.shell.</code><code class="sig-name descname">setup_tab_complete</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#cliche.repl.shell.setup_tab_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the readline library to hook into our command completer</p>
</dd></dl>

<dl class="py function">
<dt id="cliche.repl.shell.track_command_history">
<code class="sig-prename descclassname">cliche.repl.shell.</code><code class="sig-name descname">track_command_history</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#cliche.repl.shell.track_command_history" title="Permalink to this definition">¶</a></dt>
<dd><p>load/save command history</p>
</dd></dl>

</div>
<div class="section" id="module-cliche.repl">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cliche.repl" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cliche.vendor.html" class="btn btn-neutral float-right" title="cliche.vendor package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cliche.formatters.html" class="btn btn-neutral float-left" title="cliche.formatters package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, NetApp

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>